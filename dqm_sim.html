<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DQM1ãƒ»2 PSç‰ˆ é…åˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
    <style>
        :root { --primary: #2c3e50; --accent: #3498db; --bg: #f4f7f6; }
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background: var(--bg); color: var(--primary); margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; }
        .card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 20px; }
        h1, h2 { text-align: center; color: var(--primary); }
        .flex-row { display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 20px; }
        .input-group { flex: 1; min-width: 250px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; font-size: 0.9em; }
        select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; background: #fff; }
        button { width: 100%; padding: 15px; background: var(--accent); color: white; border: none; border-radius: 6px; font-size: 18px; font-weight: bold; cursor: pointer; transition: background 0.3s; }
        button:hover { background: #2980b9; }
        #output { white-space: pre-wrap; background: #2c3e50; color: #ecf0f1; padding: 20px; border-radius: 8px; font-family: 'Courier New', Courier, monospace; line-height: 1.5; font-size: 14px; overflow-x: auto; }
        .summary { margin-top: 20px; border-top: 1px dashed #7f8c8d; padding-top: 10px; color: #f1c40f; }
        .recipe-line { color: #3498db; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ‘¾ DQM1ãƒ»2 PSç‰ˆ é…åˆæ¤œç´¢</h1>
    
    <div class="card">
        <div class="flex-row">
            <div class="input-group">
                <label>æœ€çµ‚çš„ã«ä½œã‚ŠãŸã„ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼</label>
                <select id="targetSelect"></select>
            </div>
            <div class="input-group">
                <label>æ‰‹æŒã¡ã‹ã‚‰é–‹å§‹ï¼ˆä»»æ„ï¼‰</label>
                <select id="startSelect">
                    <option value="">-- æœ€åˆã‹ã‚‰è¨ˆç®— --</option>
                </select>
            </div>
        </div>
        <button onclick="runSearch()">é…åˆãƒ«ãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹</button>
    </div>

    <div id="resultCard" class="card" style="display:none;">
        <h2>ğŸ“‹ é…åˆæ‰‹é †ãƒ»å¿…è¦ç´ æ</h2>
        <div id="output"></div>
    </div>
</div>

<script>
// --- 3ã‚µã‚¤ãƒˆçµ±åˆé…åˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ ---
// å½¢å¼: "ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼å": ["è¡€çµ±", "ç›¸æ‰‹"]
const dqmData = {
    // ï¼Ÿï¼Ÿï¼Ÿï¼Ÿç³»ï¼ˆé­”ç‹ï¼‰
    "ãƒ€ãƒ¼ã‚¯ãƒ‰ãƒ¬ã‚¢ãƒ ": ["ãƒ‡ã‚¹ã‚¿ãƒ ãƒ¼ã‚¢(æœ€çµ‚)", "ã‚ãŸã¼ã†"],
    "ãƒ‡ã‚¹ã‚¿ãƒ ãƒ¼ã‚¢(æœ€çµ‚)": ["ãƒ‡ã‚¹ã‚¿ãƒ ãƒ¼ã‚¢(å¤‰èº«)", "ãƒ ãƒ‰ãƒ¼"],
    "ãƒ‡ã‚¹ã‚¿ãƒ ãƒ¼ã‚¢(å¤‰èº«)": ["ãƒ‡ã‚¹ã‚¿ãƒ ãƒ¼ã‚¢", "ã•ãã‚Šã‚¢ãƒ¼ãƒãƒ¼"],
    "ãƒ‡ã‚¹ã‚¿ãƒ ãƒ¼ã‚¢": ["ãƒŸãƒ«ãƒ‰ãƒ©ãƒ¼ã‚¹", "ã•ãã‚Šã‚¢ãƒ¼ãƒãƒ¼"],
    "ãƒŸãƒ«ãƒ‰ãƒ©ãƒ¼ã‚¹": ["ã‚¨ã‚¹ã‚¿ãƒ¼ã‚¯", "ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¹ãƒ©ã‚¤ãƒ "],
    "ã‚¨ã‚¹ã‚¿ãƒ¼ã‚¯": ["ãƒ‡ã‚¹ãƒ”ã‚µãƒ­", "ã‚­ãƒ³ã‚°ãƒ¬ã‚ª"],
    "ãƒ‡ã‚¹ãƒ”ã‚µãƒ­": ["ãƒ‡ãƒ¥ãƒ©ãƒ³", "ã—ã‚“ã‚Šã‚…ã†"],
    "ã‚¾ãƒ¼ãƒ": ["ã‚Šã‚…ã†ãŠã†", "ã‚·ãƒ‰ãƒ¼"],
    "ã‚·ãƒ‰ãƒ¼": ["ã‚¸ãƒ£ãƒŸãƒ©ã‚¹", "ãƒ­ãƒ¼ã‚ºãƒãƒˆãƒ©ãƒ¼"],
    "ã‚Šã‚…ã†ãŠã†": ["ãƒ‰ãƒ©ã‚´ãƒ³ç³»", "ã¾ãŠã†ã®ã¤ã‹ã„"],
    "ãƒãƒ¼ã‚´ãƒ³": ["ãƒ¯ã‚¤ãƒˆã‚­ãƒ³ã‚°", "ãƒ¡ã‚¿ãƒ«ã‚­ãƒ³ã‚°"],
    "ãƒãƒ©ãƒ¢ã‚¹": ["ãƒãƒ¼ã‚´ãƒ³", "ã‚„ã¾ãŸã®ãŠã‚ã¡"],
    
    // ã‚¹ãƒ©ã‚¤ãƒ ç³»
    "ã‚°ãƒ©ãƒ³ã‚¹ãƒ©ã‚¤ãƒ ": ["ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¹ãƒ©ã‚¤ãƒ ", "ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¹ãƒ©ã‚¤ãƒ "],
    "ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¹ãƒ©ã‚¤ãƒ ": ["ãƒ¡ã‚¿ãƒ«ã‚­ãƒ³ã‚°", "ãƒ¡ã‚¿ãƒ«ã‚­ãƒ³ã‚°"],
    "ãƒ¡ã‚¿ãƒ«ã‚­ãƒ³ã‚°": ["ã¶ã¡ã‚­ãƒ³ã‚°", "ãƒ¡ã‚¿ãƒ«ãƒ‰ãƒ©ã‚´ãƒ³"],
    "ã¶ã¡ã‚­ãƒ³ã‚°": ["ã‚­ãƒ³ã‚°ã‚¹ãƒ©ã‚¤ãƒ ", "ãƒ¡ã‚¿ãƒ«ã‚­ãƒ³ã‚°"],
    "ã‚­ãƒ³ã‚°ã‚¹ãƒ©ã‚¤ãƒ ": ["ã‚¹ãƒ©ã‚¤ãƒ ç³»", "ï¼Ÿï¼Ÿï¼Ÿï¼Ÿç³»"],
    "ã¯ãã‚Œãƒ¡ã‚¿ãƒ«": ["ãƒ¡ã‚¿ãƒ«ã‚¹ãƒ©ã‚¤ãƒ ", "ãƒ¡ã‚¿ãƒ«ã‚¹ãƒ©ã‚¤ãƒ "],
    "ãƒ¡ã‚¿ãƒ«ã‚¹ãƒ©ã‚¤ãƒ ": ["ã‚¹ãƒ©ã‚¤ãƒ ç³»", "ãƒ¡ã‚¿ãƒ«ãƒ‰ãƒ©ã‚´ãƒ³"],
    
    // ãƒ‰ãƒ©ã‚´ãƒ³ç³»
    "ã—ã‚“ã‚Šã‚…ã†": ["ã‚¹ã‚«ã‚¤ãƒ‰ãƒ©ã‚´ãƒ³", "ã‚„ã¾ãŸã®ãŠã‚ã¡"],
    "ã‚„ã¾ãŸã®ãŠã‚ã¡": ["ã‚¢ãƒ³ãƒ‰ãƒ¬ã‚¢ãƒ«", "ã‚°ãƒ¬ã‚¤ãƒˆãƒ‰ãƒ©ã‚´ãƒ³"],
    "ã‚°ãƒ¬ã‚¤ãƒˆãƒ‰ãƒ©ã‚´ãƒ³": ["ãƒ‰ãƒ©ã‚´ãƒ³ç³»", "ã‚­ãƒ³ã‚°ã‚¹ãƒ©ã‚¤ãƒ "],
    "ã‚¢ãƒ³ãƒ‰ãƒ¬ã‚¢ãƒ«": ["ãƒ‰ãƒ©ã‚´ãƒ³ç³»", "ã‚¬ãƒƒãƒ—ãƒªãƒ³"],
    "ã‚¹ã‚«ã‚¤ãƒ‰ãƒ©ã‚´ãƒ³": ["ãƒ‰ãƒ©ã‚´ãƒ³ç³»", "ã²ãã„ã©ã‚Š"],
    "ã‚®ã‚¬ãƒ³ãƒˆãƒ‰ãƒ©ã‚´ãƒ³": ["ã‚°ãƒ¬ã‚¤ãƒˆãƒ‰ãƒ©ã‚´ãƒ³", "ã‚®ã‚¬ãƒ³ãƒ†ã‚¹"],
    "ã‚ªãƒªãƒãƒ«ã‚´ãƒ³": ["ã—ã‚“ã‚Šã‚…ã†", "ã‚®ã‚¬ãƒ³ãƒˆãƒ‰ãƒ©ã‚´ãƒ³"],

    // ãã®ä»–é‡è¦ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼
    "ã«ã˜ãã˜ã‚ƒã": ["ã²ãã„ã©ã‚Š", "ãƒ›ãƒ¼ã‚¯ãƒ–ãƒªã‚¶ãƒ¼ãƒ‰"],
    "ã²ãã„ã©ã‚Š": ["ã¨ã‚Šç³»", "ãƒ‰ãƒ©ã‚´ã‚¹ãƒ©ã‚¤ãƒ "],
    "ãƒ›ãƒ¼ã‚¯ãƒ–ãƒªã‚¶ãƒ¼ãƒ‰": ["ã¨ã‚Šç³»", "ãƒ¡ã‚¿ãƒ«ã‚¹ãƒ©ã‚¤ãƒ "],
    "ãƒ‰ãƒ©ã‚´ã‚¹ãƒ©ã‚¤ãƒ ": ["ã‚¹ãƒ©ã‚¤ãƒ ç³»", "ãƒ‰ãƒ©ã‚´ãƒ³ç³»"],
    "ãƒ­ãƒ¼ã‚ºãƒãƒˆãƒ©ãƒ¼": ["ã—ã‚‡ãã¶ã¤ç³»", "ï¼Ÿï¼Ÿï¼Ÿï¼Ÿç³»"],
    "ã‚¸ãƒ£ãƒŸãƒ©ã‚¹": ["ã‚¢ã‚¯ãƒãƒ¼", "ã«ã˜ãã˜ã‚ƒã"],
    "ãƒ‡ãƒ¥ãƒ©ãƒ³": ["ãšã—ãŠã†ã¾ã‚‹", "ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚´ãƒ¼ãƒ¬ãƒ "],
    "ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚´ãƒ¼ãƒ¬ãƒ ": ["ã²ã‚‡ã†ãŒã¾ã˜ã‚“", "ã‚ˆã†ãŒã‚“ã¾ã˜ã‚“"],
    "ã¾ãŠã†ã®ã¤ã‹ã„": ["ãŒã„ã“ã¤ã‘ã‚“ã—", "ãŒã„ã“ã¤ã‘ã‚“ã—"],
    "ãƒ¯ã‚¤ãƒˆã‚­ãƒ³ã‚°": ["ã—ã«ãŒã¿ããã", "ã¶ã¡ã‚­ãƒ³ã‚°"],
    "ã•ãã‚Šã‚¢ãƒ¼ãƒãƒ¼": ["ãƒ›ãƒ¼ãƒ³ãƒ“ãƒ¼ãƒˆãƒ«", "ãƒ›ãƒ¼ãƒ³ãƒ“ãƒ¼ãƒˆãƒ«"],
    "ãƒ›ãƒ¼ãƒ³ãƒ“ãƒ¼ãƒˆãƒ«": ["ã¯ã•ã¿ãã‚ãŒãŸ", "ã¯ã•ã¿ãã‚ãŒãŸ"],
    "ãƒ ãƒ‰ãƒ¼": ["ãƒ–ãƒ¼ã‚¹ã‚«", "ã‚ªãƒ«ã‚´ãƒ»ãƒ‡ãƒŸãƒ¼ãƒ©"]
};

// ãƒªã‚¹ãƒˆã®åˆæœŸåŒ–
const allMonsters = Array.from(new Set([...Object.keys(dqmData), ...Object.values(dqmData).flat()]));
allMonsters.sort();
const targetSelect = document.getElementById('targetSelect');
const startSelect = document.getElementById('startSelect');

allMonsters.forEach(m => {
    targetSelect.add(new Option(m, m));
    startSelect.add(new Option(m, m));
});

function runSearch() {
    const target = targetSelect.value;
    const start = startSelect.value;
    const resultCard = document.getElementById('resultCard');
    const output = document.getElementById('output');
    
    resultCard.style.display = 'block';
    let summary = {};
    let steps = [];

    function getRecipe(monster, depth = 0) {
        if (monster === start && start !== "") {
            return " [ " + monster + " ] â˜…æ‰‹æŒã¡ã‹ã‚‰é–‹å§‹\n";
        }
        if (!dqmData[monster]) {
            summary[monster] = (summary[monster] || 0) + 1;
            return " ( " + monster + " ) â€»é‡ç”Ÿãƒ»åŸºæœ¬ç³»çµ±\n";
        }

        const [p1, p2] = dqmData[monster];
        let res = " â–¼ " + monster + " ã‚’ä½œæˆ\n";
        res += "  ".repeat(depth + 1) + "â”œâ”€ " + getRecipe(p1, depth + 1);
        res += "  ".repeat(depth + 1) + "â””â”€ " + getRecipe(p2, depth + 1);
        return res;
    }

    const recipeFlow = getRecipe(target);
    
    let resultHTML = recipeFlow;
    resultHTML += "\n-------------------------------------\n";
    resultHTML += "ã€æœ€çµ‚çš„ã«é›†ã‚ã‚‹ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼åˆè¨ˆã€‘\n";
    for (let m in summary) {
        resultHTML += `${m} Ã— ${summary[m]}\n`;
    }

    output.innerText = resultHTML;
}
</script>

</body>
</html>
